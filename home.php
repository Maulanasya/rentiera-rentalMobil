<!-- header -->
<div style="
    background-image: url('assets/images/bgCarsgarage.jpg');
    background-size: cover;
    background-position: center;
    height: calc(100vh + 100px);
    width: 100%; 
    position: relative; 
    margin-top: -100px; 
    padding-top: 100px; 
    z-index: 1;
">
    <div style="
        position: absolute; 
        top: 0; left: 0; right: 0; bottom: 0; 
        background: linear-gradient(to right, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.1) 100%);
    "></div>

    <div class="container h-100 position-relative" style="z-index: 2;">

        <div class="row h-100 align-items-center">

            <div class="col-lg-8 col-12 text-start text-white pt-5 mb-5 pb-5">

                <h1 class="display-5 display-lg-2 fw-bold mb-3" style="line-height: 1.2;">
                    Jelajahi Kebebasan<br>
                    Berkendara Bersama <span class="text-warning">Rentiera</span>
                </h1>

                <p class="lead mb-5 w-75 d-none d-md-block">
                    Solusi sewa mobil terpercaya di Kota Bandung dengan mobil terlengkap dan proses yang cepat. Siap
                    menemani perjalanan bisnis maupun liburan Anda.
                </p>
                <p class="mb-4 d-md-none"> Solusi sewa mobil terpercaya di Kota Bandung.
                </p>

                <div class="d-flex gap-3">
                    <a href="index.php?page=registrasi" class="btn btn-warning px-3 py-2 fw-bold shadow"
                        style="border-radius: 50px;">Mulai Sekarang</a>
                    <a href="#" class="btn btn-outline-light px-3 py-2 fw-bold" style="border-radius: 50px;">Pelajari
                        Lebih Lanjut</a>
                </div>

            </div>

            <div class="col-lg-4 d-none d-lg-block">
            </div>

        </div>
    </div>
</div>

<!-- Kelebihan layanan -->
<div class="py-5">
    <div class="container py-4">

        <div class="row text-center mb-5" data-aos="fade-down">
            <div class="col-lg-8 mx-auto">
                <h2 class="fw-bold mb-2">Kelebihan Layanan</h2>
                <div style="width: 60px; height: 3px; background: #ffc107; margin: 0 auto;"></div>
            </div>
        </div>

        <div class="row g-4">

            <div class="col-lg-3 col-md-6" data-aos="zoom-in">
                <div class="card feature-card border-0 shadow-sm h-100 p-4 text-center rounded-4">
                    <div class="card-body p-0">
                        <div class="icon-box text-primary">
                            <i class="bi bi-wallet2 fs-2"></i>
                        </div>
                        <h5 class="fw-bold mb-3">Harga Bersaing</h5>
                        <p class="text-muted small">Kami menyediakan tarif yang terjangkau dengan kualitas layanan
                            terbaik untuk Anda.</p>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-6" data-aos="zoom-in">
                <div class="card feature-card border-0 shadow-sm h-100 p-4 text-center rounded-4">
                    <div class="card-body p-0">
                        <div class="icon-box text-primary">
                            <i class="bi bi-car-front-fill fs-2"></i>
                        </div>
                        <h5 class="fw-bold mb-3">Unit Lengkap</h5>
                        <p class="text-muted small">Beragam jenis mobil tersedia, mulai dari city car hingga luxury car
                            sesuai kebutuhan.</p>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-6" data-aos="zoom-in">
                <div class="card feature-card border-0 shadow-sm h-100 p-4 text-center rounded-4">
                    <div class="card-body p-0">
                        <div class="icon-box text-primary">
                            <i class="bi bi-clock-history fs-2"></i>
                        </div>
                        <h5 class="fw-bold mb-3">Layanan 24 Jam</h5>
                        <p class="text-muted small">Tim support kami siap membantu Anda kapan saja, pagi, siang, maupun
                            malam.</p>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-6" data-aos="zoom-in">
                <div class="card feature-card border-0 shadow-sm h-100 p-4 text-center rounded-4">
                    <div class="card-body p-0">
                        <div class="icon-box text-primary">
                            <i class="bi bi-key-fill fs-2"></i>
                        </div>
                        <h5 class="fw-bold mb-3">Lepas Kunci</h5>
                        <p class="text-muted small">Nikmati kebebasan berkendara sendiri dengan layanan lepas kunci yang
                            mudah dan tanpa ribet.</p>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<!-- kenapa memilih kami -->
<section class="py-5 overflow-hidden">
    <div class="container py-5">
        <div class="row align-items-center gy-5">

            <div class="col-lg-6 position-relative" data-aos="fade-right">
                <div class="position-relative">
                    <img src="assets/images/imgHome.jpg" class="img-fluid rounded-5 shadow-lg w-100"
                        style="object-fit: cover; height: 500px;" alt="Luxury Garage">

                    <div class="card border-0 shadow bg-white position-absolute bottom-0 start-0 m-4 rounded-4 p-3 d-none d-md-block"
                        style="max-width: 200px;">
                        <div class="d-flex align-items-center gap-3">
                            <div class="bg-warning rounded-circle p-2 d-flex align-items-center justify-content-center text-white"
                                style="width: 50px; height: 50px;">
                                <i class="bi bi-shield-check fs-4"></i>
                            </div>
                            <div>
                                <h6 class="fw-bold mb-0">100% Aman</h6>
                                <small class="text-secondary">Terverifikasi</small>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="position-absolute top-0 start-0 w-100 h-100 bg-warning rounded-5"
                    style="z-index: -1; transform: rotate(-3deg) scale(0.95); opacity: 0.2;"></div>
            </div>

            <div class="col-lg-6 ps-lg-5" data-aos="fade-left">
                <h6 class="text-warning fw-bold text-uppercase letter-spacing-2">Kenapa Memilih Kami?</h6>
                <h2 class="display-5 fw-bold text-dark mb-4">
                    Hubungkan Perjalananmu dengan <span class="text-warning">Kenyamanan</span>
                </h2>
                <p class="text-secondary lead mb-4" style="line-height: 1.8;">
                    Di Rentiera, kami tidak sekadar menyewakan mobil. Kami memberikan pengalaman berkendara yang aman,
                    mobil terawat, dan pelayanan sekelas VIP untuk setiap perjalanan Anda.
                </p>

                <div class="row g-3 mb-4">
                    <div class="col-4">
                        <div class="p-3 border rounded-4 text-center hover-card bg-light h-100">
                            <h3 class="fw-bold text-primary mb-0 pelanggan">0</h3>
                            <small class="text-muted fw-semibold">Pelanggan Puas</small>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="p-3 border rounded-4 text-center hover-card bg-light h-100">
                            <h3 class="fw-bold text-primary mb-0 unit">0</h3>
                            <small class="text-muted fw-semibold">Unit Mobil</small>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="p-3 border rounded-4 text-center hover-card bg-light h-100">
                            <h3 class="fw-bold text-primary mb-0 tahun">0</h3>
                            <small class="text-muted fw-semibold">Tahun Pengalaman</small>
                        </div>
                    </div>
                </div>

                <a href="#" class="btn btn-warning rounded-pill px-4 py-3 fw-bold shadow-sm transition-btn">
                    Lihat Selengkapnya <i class="bi bi-arrow-right ms-2"></i>
                </a>
            </div>

        </div>
    </div>
</section>

<section class="py-5">
    <div class="container">

        <div class="text-center mb-5" data-aos="fade-down">
            <h3 class="fw-bold">Mobil terbaru kami</h3>
            <p class="text-secondary">kenyamanan tanpa ragu. Siap menemani perjalanan Anda kapan saja.</p>
        </div>

        <div class="row g-4 justify-content-center">

            <?php
            include 'config/koneksi.php';
            $query = mysqli_query($koneksi, "SELECT * FROM tb_mobil ORDER BY id_mobil DESC LIMIT 4");
            while ($data = mysqli_fetch_assoc($query)) { 
            ?>

            <div class="col-md-6 col-lg-6">
                <div class="card border-0 shadow-sm h-100 rounded-4 overflow-hidden" data-aos="zoom-in">

                    <div style="height: 300px; overflow: hidden; position: relative;">
                        <img src="assets/images/<?php echo $data['gambar']; ?>" class="w-100 h-100"
                            style="object-fit: cover; object-position: center;" alt="<?php echo $data['merk']; ?>">

                        <?php
                        $status_mobil = $data['status'];
                        $bg_color = '';
                        $text_color = 'text-dark'; 

                        if ($status_mobil == 'tersedia') {
                        $bg_color = 'bg-success'; 
                        $text_color = 'text-white';
                        } elseif ($status_mobil == 'disewa') {
                        $bg_color = 'bg-warning'; 
                        $text_color = 'text-dark';
                        } elseif ($status_mobil == 'servis') {
                        $bg_color = 'bg-danger';  
                        $text_color = 'text-white';
                        }
                        ?>

                        <span
                            class="position-absolute top-0 end-0 m-3 badge <?php echo $bg_color . ' ' . $text_color; ?> shadow-sm rounded-pill px-3 py-2">
                            <i class="bi bi-circle-fill small me-1"></i> <?php echo ucfirst($status_mobil); ?>
                        </span>
                    </div>

                    <div class="card-body p-4 d-flex flex-column">

                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <div>
                                <h4 class="fw-bold mb-1"><?php echo $data['merk'] . " " . $data['tipe']; ?></h4>
                                <small class="text-secondary">
                                    <i class="bi bi-calendar4 me-1"></i> <?php echo $data['tahun']; ?>
                                    &bull;
                                    <i class="bi bi-gear-wide-connected mx-1"></i> <?php echo $data['jenis']; ?>
                                </small>
                            </div>
                            <div class="text-end">
                                <h5 class="fw-bold text-primary mb-0">Rp
                                    <?php echo number_format($data['harga_sewa_harian'], 0, ',', '.'); ?></h5>
                                <small class="text-muted">/hari</small>
                            </div>
                        </div>

                        <hr class="border-secondary opacity-10 my-3">

                        <div class="row g-2 mb-4">
                            <div class="col-6">
                                <div class="bg-light rounded-3 p-2 text-center">
                                    <small class="text-muted d-block">Warna</small>
                                    <span class="fw-semibold text-dark"><?php echo $data['warna']; ?></span>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="bg-light rounded-3 p-2 text-center">
                                    <small class="text-muted d-block">Plat Nomor</small>
                                    <span class="fw-semibold text-dark"><?php echo $data['no_plat']; ?></span>
                                </div>
                            </div>
                        </div>

                        <!-- card sewa start -->
                        <div class="modal fade" id="modalSewa<?php echo $data['id_mobil']; ?>" tabindex="-1"
                            aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered">
                                <div class="modal-content rounded-4 border-0 shadow">
                                    <div class="modal-header border-0 pb-0">
                                        <h5 class="fw-bold">Konfirmasi Sewa - <?php echo $data['merk']; ?></h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                            aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body p-4">
                                        <form action="../config/aksi_sewa.php" method="POST">
                                            <input type="hidden" name="id_mobil"
                                                value="<?php echo $data['id_mobil']; ?>">
                                            <input type="hidden" id="hargaHarian<?php echo $data['id_mobil']; ?>"
                                                value="<?php echo $data['harga_sewa_harian']; ?>">

                                            <div class="row g-3">
                                                <div class="col-md-6">
                                                    <label class="small fw-bold">Tanggal Mulai</label>
                                                    <input type="date" name="tgl_mulai"
                                                        id="tglMulai<?php echo $data['id_mobil']; ?>"
                                                        class="form-control" required
                                                        onchange="hitungSewa(<?php echo $data['id_mobil']; ?>)">
                                                </div>
                                                <div class="col-md-6">
                                                    <label class="small fw-bold">Lama Sewa (Hari)</label>
                                                    <input type="number" name="lama_sewa"
                                                        id="lamaSewa<?php echo $data['id_mobil']; ?>"
                                                        class="form-control" min="1" required
                                                        oninput="hitungSewa(<?php echo $data['id_mobil']; ?>)">
                                                </div>
                                                <div class="col-md-6">
                                                    <label class="small fw-bold">Tanggal Kembali</label>
                                                    <input type="text"
                                                        id="tglKembaliTampil<?php echo $data['id_mobil']; ?>"
                                                        class="form-control bg-light" readonly placeholder="-">
                                                    <input type="hidden" name="tanggal_selesai"
                                                        id="tglSelesaiHidden<?php echo $data['id_mobil']; ?>">
                                                </div>
                                                <div class="col-md-6">
                                                    <label class="small fw-bold">Total Harga</label>
                                                    <input type="text"
                                                        id="totalHargaTampil<?php echo $data['id_mobil']; ?>"
                                                        class="form-control bg-light fw-bold text-primary" readonly
                                                        placeholder="Rp 0">
                                                    <input type="hidden" name="total_harga"
                                                        id="totalHargaHidden<?php echo $data['id_mobil']; ?>">
                                                </div>
                                            </div>

                                            <button type="submit" name="proses_sewa"
                                                class="btn btn-dark w-100 rounded-pill py-3 fw-bold mt-4">
                                                KONFIRMASI SEWA
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- card sewa end -->

                        <?php if ($data['status'] == 'tersedia') : ?>
                        <a href="index.php?page=registrasi"
                            class="btn btn-dark w-100 rounded-pill py-3 fw-bold mt-auto">
                            Sewa Sekarang <i class="bi bi-arrow-right ms-2"></i>
                        </a>
                        <?php else : ?>
                        <button type="button" class="btn btn-secondary w-100 rounded-pill py-3 fw-bold mt-auto"
                            disabled>
                            Tidak Tersedia
                        </button>
                        <?php endif; ?>

                    </div>
                </div>
            </div>

            <?php } ?>

        </div>
    </div>
</section>

<section class="py-5 position-relative" style="background-color: #0b1c2c; color: white;">

    <div class="position-absolute top-0 start-0 translate-middle"
        style="width: 300px; height: 300px; background: rgba(255, 193, 7, 0.1); filter: blur(80px); border-radius: 50%;">
    </div>

    <div class="container py-4 position-relative">

        <div class="text-center mb-5" data-aos="fade-down">
            <h6 class="text-warning fw-bold text-uppercase letter-spacing-2">Testimoni</h6>
            <h2 class="display-6 fw-bold">Apa Kata Mereka?</h2>
        </div>

        <div class="row g-4">
            <?php
            $query_testi = mysqli_query($koneksi, "SELECT * FROM tb_testimoni LIMIT 3");
            while ($row = mysqli_fetch_assoc($query_testi)) { 
            ?>

            <div class="col-md-6 col-lg-4" data-aos="fade-up">
                <div class="card h-100 border-0 rounded-4 p-4 text-white"
                    style="background-color: rgba(255,255,255, 0.05); backdrop-filter: blur(10px);">
                    <div class="card-body">

                        <div class="mb-3 text-warning">
                            <?php for($i=0; $i < $row['rating']; $i++){ echo '<i class="bi bi-star-fill me-1"></i>'; } ?>
                        </div>

                        <p class="mb-4 text-white-50" style="font-style: italic;">
                            "<?php echo $row['pesan']; ?>"
                        </p>

                        <div
                            class="d-flex align-items-center mt-auto pt-3 border-top border-secondary border-opacity-25">
                            <img src="assets/images/<?php echo $row['gambar']; ?>"
                                class="rounded-circle object-fit-cover me-3 border border-2 border-warning" width="50"
                                height="50">
                            <div>
                                <h6 class="fw-bold mb-0 text-white"><?php echo $row['nama']; ?></h6>
                                <small class="text-white-50"><?php echo $row['pekerjaan']; ?></small>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <?php } ?>
        </div>
    </div>
</section>

<section class="py-5 bg-warning">
    <div class="container py-4 text-center">
        <h2 class="fw-bold text-dark display-5 mb-3" data-aos="fade-right">Siap Memulai Perjalanan?</h2>
        <p class="lead text-dark mb-4 col-lg-8 mx-auto" data-aos="fade-left">
            Jangan biarkan rencana liburan atau bisnis Anda terganggu. Booking mobil impian Anda sekarang juga.
        </p>

        <div class="d-flex justify-content-center gap-3" data-aos="fade-up">
            <a href="https://wa.me/6285659626847"
                class="btn btn-dark rounded-pill px-5 py-3 fw-bold shadow-lg transform-hover">
                <i class="bi bi-whatsapp me-2"></i> Hubungi via WhatsApp
            </a>
            <a href="index.php?page=registrasi" class="btn btn-outline-dark rounded-pill px-5 py-3 fw-bold">
                Daftar Akun
            </a>
        </div>
    </div>
</section>